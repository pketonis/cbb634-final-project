<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K-Means Clustering</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <h1 style="text-align: center;">K-Means Clustering of Happiness Scores</h1>

    <form style="text-align: center;" action="/kmeans-clustering" method="get">
        <label for="k">Number of Clusters (k):</label>
        <input type="number" id="k" name="k" value="{{ k if k else 3 }}" min="2" max="10">
        <button type="submit">Cluster</button>
    </form>

    <div style="width: 100%; margin: auto; margin-top: 20px;">
        {{ graph_html | safe }}
    </div>

    <div style="text-align: center;">
        <h3>Legend</h3>
        {{ legend_html | safe }}
        <p style="font-size: 14px; color: gray;">Note: Clusters are ordered by average score, with Cluster 1 having the highest score.</p>
    </div>

    <div style="text-align: center; margin-top: 20px;">
        <a href="/"><button>Back to Main Page</button></a>
    </div>
</body>
</html>